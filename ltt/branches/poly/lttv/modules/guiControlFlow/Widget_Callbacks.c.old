/*****************************************************************************
 *                       Callbacks used for the viewer                       *
 *****************************************************************************/
void expose_event_cb (GtkWidget *widget, GdkEventExpose *expose, gpointer data)
{
	ControlFlowData *control_flow_data = (ControlFlowData*)data;

	EventRequest *Event_Request = g_new(sizeof(EventRequest));
	
	Event_Request->control_flow_data = control_flow_data;
	
	/* Calculate, from pixels in expose, the time interval to get data */
	
	get_time_from_pixels(expose->area.x, expose->area.width,
													control_flow_data->Drawing_Area_Info.width,
													&control_flow_data->Begin_Time, &control_flow_data->End_Time,
													&Event_Request->time_begin, &Event_Request->time_end)
	
	/* Look in statistics of the trace the processes present during the
	 * whole time interval _shown on the screen_. Modify the list of 
	 * processes to match it. NOTE : modify, not recreate. If recreation is
	 * needed,keep a pointer to the currently selected event in the list.
	 */
	
	/* Call the reading API to have events sent to drawing hooks */
	lttv_trace_set_process( control_flow_data->Trace_Set,
													Draw_Before_Hooks,
													Draw_Event_Hooks,
													Draw_After_Hooks,
													NULL, //FIXME : filter here
													Event_Request->time_begin,
													Event_Request->time_end);

}


void v_scroll_cb (GtkAdjustment *adjustment, gpointer data)
{
	ControlFlowData *control_flow_data = (ControlFlowData*)data;
	GtkTreePath *Tree_Path;

	g_critical("DEBUG : scroll signal, value : %f", adjustment->value);
	
	//get_test_data((int)adjustment->value, control_flow_data->Num_Visible_Events, 
	//								 control_flow_data);
	
	

}


